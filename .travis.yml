os: linux
dist: trusty
language: java
jdk: oraclejdk8

env:
  - XATKIT_DEV=$TRAVIS_BUILD_DIR XATKIT=$TRAVIS_BUILD_DIR/build
cache:
  directories:
    - "$HOME/.m2"
before_install:
  - nvm install node # "node" is an alias for the latest version. we may need to install a specific version
  - travis_wait 45 bash .util/build_xatkit.sh # the job expires after 40mins
before_script:
  - bash .util/start_xatkit.sh
  - cd tests/greetings
  - npm install
  - sleep 15 # we give some time to Xatkit to start
script:
  - npm test

notifications:
  email: no
